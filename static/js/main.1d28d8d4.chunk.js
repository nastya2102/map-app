(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{71:function(e,t,a){e.exports=a(84)},82:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),l=a(36),c=a(28);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(49),u=a(61),m=a(29),d="layer/add-point",p={type:"FeatureCollection",features:[]},f=Object(c.b)({layer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(m.a)({},e,{features:[].concat(Object(u.a)(e.features),[t.payload])});default:return e}}}),y=a(11),b=a(38),g=a.n(b),v=a(51),h=a(37),E=a(47),x=a.n(E),O=a(40),j=a(136),w=a(135),k=a(138),S=a(129),C=a(127),z=a(128),F=a(126),L=function(e){var t=e.open,a=e.handleClose,o=e.addPoint,i=Object(n.useState)({name:"",description:""}),l=Object(h.a)(i,2),c=l[0],s=l[1],u=function(e){s(Object(m.a)({},c,Object(O.a)({},e.target.id,e.target.value)))};return r.a.createElement(k.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title"},r.a.createElement(F.a,{id:"form-dialog-title"},"Add marker"),r.a.createElement(C.a,null,r.a.createElement(z.a,null,"Add marker to map"),r.a.createElement(w.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"text",fullWidth:!0,value:c.name,onChange:u}),r.a.createElement(w.a,{margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,value:c.description,onChange:u})),r.a.createElement(S.a,null,r.a.createElement(j.a,{onClick:a,color:"primary"},"Cancel"),r.a.createElement(j.a,{onClick:function(){o(c)},color:"primary"},"Add marker")))},N=a(130),I=a(63),M=function(e){var t=e.name,a=e.description;return r.a.createElement(N.a,null,r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},"Name"),r.a.createElement(I.a,{variant:"h5",component:"h2",color:"textPrimary"},t),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},"Description"),r.a.createElement(I.a,{variant:"h5",component:"h2",color:"textPrimary"},a)))};function W(e){var t=e.points,a=e.properties;return{type:d,payload:{type:"Feature",geometry:{type:"Point",coordinates:t},properties:a}}}var q=function(e){return{container:e,style:"mapbox://styles/mapbox/streets-v11",center:[-74.0066,40.7135],zoom:15.5,pitch:45,bearing:-17.6,antialias:!0}},B={id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.6}},J={type:"geojson",data:{type:"FeatureCollection",features:[]}},D={id:"random-points-layer",source:"random-points-data",type:"symbol",layout:{"icon-image":"bakery-15","icon-padding":0,"icon-allow-overlap":!0,"icon-size":1.5}};a(82);var P=function(){var e=Object(l.b)(),t=Object(n.useRef)(null),a=Object(n.useRef)(new x.a.Popup({offset:15})),o=Object(n.useState)(null),c=Object(h.a)(o,2),s=c[0],u=c[1],d=Object(n.useState)({open:!1,points:[]}),p=Object(h.a)(d,2),f=p[0],y=p[1],b=Object(l.c)(function(e){return e.layer}),E=function(e){var t=s.queryRenderedFeatures(e.point,{layers:["random-points-layer"]}),a=s.queryRenderedFeatures(e.point,{layers:["building"]});if(!t.length&&a.length&&e.point){var n=e.lngLat,r=n.lat,o=n.lng;y({open:!0,points:[o,r]})}},O=function(e){if(e.point){var t=e.lngLat,n=e.features[0].properties,o=document.createElement("div");i.a.render(r.a.createElement(M,n),o),a.current.setLngLat(t).setDOMContent(o).addTo(s)}},j=function(){a&&a.current&&a.current.remove()};Object(n.useEffect)(function(){x.a.accessToken="pk.eyJ1IjoibmFzdHlha3V6NCIsImEiOiJja2RrNzBtOWEwbHM4MnJsY29td3ZxY2d2In0.dsKMvFZ38esAjLE9_5L1zw",s&&(b&&b.features&&b.features.length&&s.getSource("random-points-data").setData(b),s.on("click",E),s.on("mouseover","random-points-layer",O),s.on("mouseout","random-points-layer",j)),s||function(e){var t=e.setMap,a=e.mapContainer,n=new x.a.Map(q(a.current));n.on("load",Object(v.a)(g.a.mark(function e(){var a,r,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.addSource("random-points-data",J),n.addLayer(D),a=n.getStyle().layers,o=0;case 4:if(!(o<a.length)){e.next=11;break}if("symbol"!==a[o].type||!a[o].layout["text-field"]){e.next=8;break}return r=a[o].id,e.abrupt("break",11);case 8:o++,e.next=4;break;case 11:n.addLayer(B,r),t(n),n.resize();case 14:case"end":return e.stop()}},e)})))}({setMap:u,mapContainer:t})},[s]);var w=function(){y({open:!1,points:[]})},k=function(){var t=Object(v.a)(g.a.mark(function t(a){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e(W({points:f.points,properties:Object(m.a)({},a,{id:"test"})})),w();case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){s&&b&&s.getSource("random-points-data").setData(b)},[b]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"map-container",ref:t}),f.open&&r.a.createElement(L,Object.assign({},f,{handleClose:w,addPoint:k})))},R=a(131),A=a(133),H=a(134),T=a(132),Y=Object(R.a)({root:{minWidth:275,maxWidth:350},title:{fontSize:14},pos:{marginBottom:12}});var Z=function(){var e=Y();return r.a.createElement(T.a,{maxWidth:"sm"},r.a.createElement(A.a,{className:e.root},r.a.createElement(N.a,null,r.a.createElement(I.a,{className:e.title,color:"textSecondary",gutterBottom:!0},"Category name"),r.a.createElement(I.a,{variant:"h5",component:"h2"},"Important title"),r.a.createElement(I.a,{className:e.pos,color:"textSecondary"},"Sub title"),r.a.createElement(I.a,{variant:"body2",component:"p"},'"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."')),r.a.createElement(H.a,null,r.a.createElement(j.a,{size:"small"},"Learn More"))))};var _=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.c,null,r.a.createElement(y.a,{exact:!0,path:"/",component:P}),r.a.createElement(y.a,{exact:!0,path:"/test",component:Z})))},K=localStorage.getItem("layer"),U={layer:K&&JSON.parse(K)||{}},V=Object(c.c)(f,U);V.subscribe(function(){localStorage.setItem("layer",JSON.stringify(V.getState().layer))}),i.a.render(r.a.createElement(s.a,null,r.a.createElement(l.a,{store:V},r.a.createElement(_,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[71,1,2]]]);
//# sourceMappingURL=main.1d28d8d4.chunk.js.map